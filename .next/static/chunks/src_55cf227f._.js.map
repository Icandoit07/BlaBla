{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Blahblah/blabla/src/components/Card.tsx"],"sourcesContent":["import React from \"react\";\n\nexport function Card({ children, hover = false }: { children: React.ReactNode; hover?: boolean }) {\n  return (\n    <div className={`\n      rounded-2xl border border-gray-200 bg-white shadow-sm\n      ${hover ? \"transition-all duration-200 hover:shadow-md hover:border-green-200 hover:-translate-y-0.5\" : \"\"}\n    `}>\n      <div className=\"p-4 sm:p-5\">{children}</div>\n    </div>\n  );\n}\n\n\n"],"names":[],"mappings":";;;;;;AAEO,SAAS,KAAK,KAA2E;QAA3E,EAAE,QAAQ,EAAE,QAAQ,KAAK,EAAkD,GAA3E;IACnB,qBACE,6LAAC;QAAI,WAAW,AAAC,wEAE4F,OAAzG,QAAQ,8FAA8F,IAAG;kBAE3G,cAAA,6LAAC;YAAI,WAAU;sBAAc;;;;;;;;;;;AAGnC;KATgB","debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Blahblah/blabla/src/components/PostCard.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { Card } from \"@/components/Card\";\nimport Link from \"next/link\";\nimport { HeartIcon, MessageIcon, RepeatIcon, BookmarkIcon } from \"./icons\";\n\nexport function PostCard({ id, author, content, counts }: { id: string; author: { username?: string | null; name?: string | null }; content: string; counts?: { likes?: number; comments?: number } }) {\n  const [liked, setLiked] = useState(false);\n  const [reposted, setReposted] = useState(false);\n  const [bookmarked, setBookmarked] = useState(false);\n\n  async function act(path: string, method: string) {\n    await fetch(path, { method });\n  }\n\n  return (\n    <Card hover>\n      {/* Author Info */}\n      <div className=\"flex items-center gap-3 mb-4\">\n        <Link href={`/u/${author.username}`} className=\"flex-shrink-0\">\n          <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center text-white font-semibold text-lg shadow-md hover:scale-105 transition-transform\">\n            {(author.name || author.username || \"U\").charAt(0).toUpperCase()}\n          </div>\n        </Link>\n        <div className=\"flex-1 min-w-0\">\n          <Link href={`/u/${author.username}`} className=\"font-semibold text-gray-900 hover:text-green-600 transition-colors truncate block\">\n            {author.name || \"User\"}\n          </Link>\n          <p className=\"text-sm text-gray-500 truncate\">@{author.username ?? \"user\"}</p>\n        </div>\n      </div>\n\n      {/* Content */}\n      <Link href={`/post/${id}`}>\n        <p className=\"text-gray-800 text-[15px] leading-relaxed whitespace-pre-wrap mb-4 hover:text-gray-900 cursor-pointer\">\n          {content}\n        </p>\n      </Link>\n\n      {/* Actions */}\n      <div className=\"flex items-center gap-8 pt-4 border-t border-gray-100\">\n        <button \n          onClick={() => { setLiked(v => !v); act(`/api/posts/${id}/like`, liked ? \"DELETE\" : \"POST\"); }} \n          className={`group flex items-center gap-2 text-sm font-medium transition-all duration-200 hover:text-red-600 ${\n            liked ? \"text-red-600\" : \"text-gray-600\"\n          }`}\n        >\n          <div className=\"p-2 rounded-full group-hover:bg-red-50 transition-colors\">\n            <HeartIcon size={18} filled={liked} className=\"transition-transform group-hover:scale-110\" />\n          </div>\n          <span className=\"tabular-nums\">{counts?.likes ?? 0}</span>\n        </button>\n\n        <Link \n          href={`/post/${id}`}\n          className=\"group flex items-center gap-2 text-sm font-medium text-gray-600 hover:text-blue-600 transition-all duration-200\"\n        >\n          <div className=\"p-2 rounded-full group-hover:bg-blue-50 transition-colors\">\n            <MessageIcon size={18} className=\"transition-transform group-hover:scale-110\" />\n          </div>\n          <span className=\"tabular-nums\">{counts?.comments ?? 0}</span>\n        </Link>\n\n        <button \n          onClick={() => { setReposted(v => !v); act(`/api/posts/${id}/repost`, reposted ? \"DELETE\" : \"POST\"); }} \n          className={`group flex items-center gap-2 text-sm font-medium transition-all duration-200 hover:text-green-600 ${\n            reposted ? \"text-green-600\" : \"text-gray-600\"\n          }`}\n        >\n          <div className=\"p-2 rounded-full group-hover:bg-green-50 transition-colors\">\n            <RepeatIcon size={18} className=\"transition-transform group-hover:rotate-180 duration-300\" />\n          </div>\n        </button>\n\n        <button \n          onClick={() => { setBookmarked(v => !v); act(`/api/posts/${id}/bookmark`, bookmarked ? \"DELETE\" : \"POST\"); }} \n          className={`group ml-auto flex items-center gap-2 text-sm font-medium transition-all duration-200 hover:text-purple-600 ${\n            bookmarked ? \"text-purple-600\" : \"text-gray-600\"\n          }`}\n        >\n          <div className=\"p-2 rounded-full group-hover:bg-purple-50 transition-colors\">\n            <BookmarkIcon size={18} className=\"transition-transform group-hover:scale-110\" />\n          </div>\n        </button>\n      </div>\n    </Card>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAMO,SAAS,SAAS,KAA4K;QAA5K,EAAE,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAA+I,GAA5K;;IACvB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,eAAe,IAAI,IAAY,EAAE,MAAc;QAC7C,MAAM,MAAM,MAAM;YAAE;QAAO;IAC7B;QAewD,kBAsBhB,eAUA;IA7CxC,qBACE,6LAAC,qIAAI;QAAC,KAAK;;0BAET,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,0KAAI;wBAAC,MAAM,AAAC,MAAqB,OAAhB,OAAO,QAAQ;wBAAI,WAAU;kCAC7C,cAAA,6LAAC;4BAAI,WAAU;sCACZ,CAAC,OAAO,IAAI,IAAI,OAAO,QAAQ,IAAI,GAAG,EAAE,MAAM,CAAC,GAAG,WAAW;;;;;;;;;;;kCAGlE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,0KAAI;gCAAC,MAAM,AAAC,MAAqB,OAAhB,OAAO,QAAQ;gCAAI,WAAU;0CAC5C,OAAO,IAAI,IAAI;;;;;;0CAElB,6LAAC;gCAAE,WAAU;;oCAAiC;oCAAE,CAAA,mBAAA,OAAO,QAAQ,cAAf,8BAAA,mBAAmB;;;;;;;;;;;;;;;;;;;0BAKvE,6LAAC,0KAAI;gBAAC,MAAM,AAAC,SAAW,OAAH;0BACnB,cAAA,6LAAC;oBAAE,WAAU;8BACV;;;;;;;;;;;0BAKL,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS;4BAAQ,SAAS,CAAA,IAAK,CAAC;4BAAI,IAAI,AAAC,cAAgB,OAAH,IAAG,UAAQ,QAAQ,WAAW;wBAAS;wBAC7F,WAAW,AAAC,oGAEX,OADC,QAAQ,iBAAiB;;0CAG3B,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,oJAAS;oCAAC,MAAM;oCAAI,QAAQ;oCAAO,WAAU;;;;;;;;;;;0CAEhD,6LAAC;gCAAK,WAAU;0CAAgB,CAAA,gBAAA,mBAAA,6BAAA,OAAQ,KAAK,cAAb,2BAAA,gBAAiB;;;;;;;;;;;;kCAGnD,6LAAC,0KAAI;wBACH,MAAM,AAAC,SAAW,OAAH;wBACf,WAAU;;0CAEV,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,sJAAW;oCAAC,MAAM;oCAAI,WAAU;;;;;;;;;;;0CAEnC,6LAAC;gCAAK,WAAU;0CAAgB,CAAA,mBAAA,mBAAA,6BAAA,OAAQ,QAAQ,cAAhB,8BAAA,mBAAoB;;;;;;;;;;;;kCAGtD,6LAAC;wBACC,SAAS;4BAAQ,YAAY,CAAA,IAAK,CAAC;4BAAI,IAAI,AAAC,cAAgB,OAAH,IAAG,YAAU,WAAW,WAAW;wBAAS;wBACrG,WAAW,AAAC,sGAEX,OADC,WAAW,mBAAmB;kCAGhC,cAAA,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,qJAAU;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;;;;;;kCAIpC,6LAAC;wBACC,SAAS;4BAAQ,cAAc,CAAA,IAAK,CAAC;4BAAI,IAAI,AAAC,cAAgB,OAAH,IAAG,cAAY,aAAa,WAAW;wBAAS;wBAC3G,WAAW,AAAC,+GAEX,OADC,aAAa,oBAAoB;kCAGnC,cAAA,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,uJAAY;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM9C;GAjFgB;KAAA","debugId":null}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Blahblah/blabla/src/components/LoadingStates.tsx"],"sourcesContent":["// Professional Loading States and Animations\n\nexport function LoadingSpinner({ size = \"md\" }: { size?: \"sm\" | \"md\" | \"lg\" }) {\n  const sizes = {\n    sm: \"w-4 h-4\",\n    md: \"w-8 h-8\",\n    lg: \"w-12 h-12\",\n  };\n\n  return (\n    <div className={`${sizes[size]} relative`}>\n      <div className=\"absolute inset-0 rounded-full border-2 border-gray-200\"></div>\n      <div className=\"absolute inset-0 rounded-full border-2 border-green-500 border-t-transparent animate-spin\"></div>\n    </div>\n  );\n}\n\nexport function SkeletonPost() {\n  return (\n    <div className=\"bg-white rounded-2xl border border-gray-200 p-6 animate-pulse\">\n      <div className=\"flex items-center gap-3 mb-4\">\n        <div className=\"w-10 h-10 rounded-full bg-gray-200\"></div>\n        <div className=\"flex-1\">\n          <div className=\"h-4 bg-gray-200 rounded w-32 mb-2\"></div>\n          <div className=\"h-3 bg-gray-200 rounded w-20\"></div>\n        </div>\n      </div>\n      <div className=\"space-y-2 mb-4\">\n        <div className=\"h-4 bg-gray-200 rounded w-full\"></div>\n        <div className=\"h-4 bg-gray-200 rounded w-5/6\"></div>\n        <div className=\"h-4 bg-gray-200 rounded w-4/6\"></div>\n      </div>\n      <div className=\"flex gap-6 pt-3\">\n        <div className=\"h-8 bg-gray-200 rounded w-16\"></div>\n        <div className=\"h-8 bg-gray-200 rounded w-16\"></div>\n        <div className=\"h-8 bg-gray-200 rounded w-16\"></div>\n      </div>\n    </div>\n  );\n}\n\nexport function PageTransition({ children }: { children: React.ReactNode }) {\n  return (\n    <div className=\"animate-fadeIn\">\n      {children}\n    </div>\n  );\n}\n\nexport function PulseLoader() {\n  return (\n    <div className=\"flex gap-2\">\n      <div className=\"w-3 h-3 bg-green-500 rounded-full animate-bounce\" style={{ animationDelay: \"0ms\" }}></div>\n      <div className=\"w-3 h-3 bg-green-500 rounded-full animate-bounce\" style={{ animationDelay: \"150ms\" }}></div>\n      <div className=\"w-3 h-3 bg-green-500 rounded-full animate-bounce\" style={{ animationDelay: \"300ms\" }}></div>\n    </div>\n  );\n}\n\nexport function ProgressBar({ progress }: { progress: number }) {\n  return (\n    <div className=\"w-full h-1 bg-gray-200 rounded-full overflow-hidden\">\n      <div \n        className=\"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-300 ease-out\"\n        style={{ width: `${progress}%` }}\n      ></div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA,6CAA6C;;;;;;;;;;;;;;;AAEtC,SAAS,eAAe,KAA8C;QAA9C,EAAE,OAAO,IAAI,EAAiC,GAA9C;IAC7B,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,6LAAC;QAAI,WAAW,AAAC,GAAc,OAAZ,KAAK,CAAC,KAAK,EAAC;;0BAC7B,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC;gBAAI,WAAU;;;;;;;;;;;;AAGrB;KAbgB;AAeT,SAAS;IACd,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;;;;;0CACf,6LAAC;gCAAI,WAAU;;;;;;;;;;;;;;;;;;0BAGnB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;;;;;;;;;;;;0BAEjB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAIvB;MAtBgB;AAwBT,SAAS,eAAe,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;IAC7B,qBACE,6LAAC;QAAI,WAAU;kBACZ;;;;;;AAGP;MANgB;AAQT,SAAS;IACd,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;gBAAmD,OAAO;oBAAE,gBAAgB;gBAAM;;;;;;0BACjG,6LAAC;gBAAI,WAAU;gBAAmD,OAAO;oBAAE,gBAAgB;gBAAQ;;;;;;0BACnG,6LAAC;gBAAI,WAAU;gBAAmD,OAAO;oBAAE,gBAAgB;gBAAQ;;;;;;;;;;;;AAGzG;MARgB;AAUT,SAAS,YAAY,KAAkC;QAAlC,EAAE,QAAQ,EAAwB,GAAlC;IAC1B,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YACC,WAAU;YACV,OAAO;gBAAE,OAAO,AAAC,GAAW,OAAT,UAAS;YAAG;;;;;;;;;;;AAIvC;MATgB","debugId":null}},
    {"offset": {"line": 533, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Blahblah/blabla/src/components/TrendingSidebar.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { LoadingSpinner } from \"./LoadingStates\";\nimport { TrendingIcon } from \"./icons\";\n\ntype TrendingTopic = {\n  tag: string;\n  count: number;\n};\n\nexport function TrendingSidebar() {\n  const [topics, setTopics] = useState<TrendingTopic[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function loadTrending() {\n      try {\n        const res = await fetch(\"/api/trending\");\n        if (res.ok) {\n          const data = await res.json();\n          setTopics(data.slice(0, 5));\n        }\n      } catch (error) {\n        console.error(\"Failed to load trending\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    loadTrending();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"bg-white rounded-2xl border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Trending</h2>\n        <div className=\"flex justify-center py-8\">\n          <LoadingSpinner size=\"md\" />\n        </div>\n      </div>\n    );\n  }\n\n  if (topics.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"bg-white rounded-2xl border border-gray-200 overflow-hidden\">\n      <div className=\"p-4 border-b border-gray-200\">\n        <h2 className=\"text-xl font-bold text-gray-900 flex items-center gap-2\">\n          <TrendingIcon size={20} className=\"text-green-600\" />\n          Trending\n        </h2>\n      </div>\n      \n      <div className=\"divide-y divide-gray-200\">\n        {topics.map((topic, index) => (\n          <Link\n            key={topic.tag}\n            href={`/search?q=${encodeURIComponent(topic.tag)}`}\n            className=\"block p-4 hover:bg-gray-50 transition-colors\"\n          >\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-center gap-2 mb-1\">\n                  <span className=\"text-xs font-semibold text-gray-500\">\n                    #{index + 1} Trending\n                  </span>\n                </div>\n                <h3 className=\"font-bold text-gray-900 mb-0.5 truncate\">\n                  #{topic.tag}\n                </h3>\n                <p className=\"text-sm text-gray-600\">\n                  {topic.count.toLocaleString()} {topic.count === 1 ? 'post' : 'posts'}\n                </p>\n              </div>\n              {index < 3 && (\n                <div className=\"text-2xl flex-shrink-0 ml-2\">\n                  {index === 0 ? '🥇' : index === 1 ? '🥈' : '🥉'}\n                </div>\n              )}\n            </div>\n          </Link>\n        ))}\n      </div>\n\n      <Link\n        href=\"/trending\"\n        className=\"block p-4 text-green-600 hover:bg-green-50 font-medium text-sm transition-colors\"\n      >\n        Show more\n      </Link>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAWO,SAAS;;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAkB,EAAE;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;qCAAC;YACR,eAAe;gBACb,IAAI;oBACF,MAAM,MAAM,MAAM,MAAM;oBACxB,IAAI,IAAI,EAAE,EAAE;wBACV,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,UAAU,KAAK,KAAK,CAAC,GAAG;oBAC1B;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC;gBAChB,SAAU;oBACR,WAAW;gBACb;YACF;YACA;QACF;oCAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAuC;;;;;;8BACrD,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,wJAAc;wBAAC,MAAK;;;;;;;;;;;;;;;;;IAI7B;IAEA,IAAI,OAAO,MAAM,KAAK,GAAG;QACvB,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;;sCACZ,6LAAC,uJAAY;4BAAC,MAAM;4BAAI,WAAU;;;;;;wBAAmB;;;;;;;;;;;;0BAKzD,6LAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC,OAAO,sBAClB,6LAAC,0KAAI;wBAEH,MAAM,AAAC,aAA0C,OAA9B,mBAAmB,MAAM,GAAG;wBAC/C,WAAU;kCAEV,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAK,WAAU;;oDAAsC;oDAClD,QAAQ;oDAAE;;;;;;;;;;;;sDAGhB,6LAAC;4CAAG,WAAU;;gDAA0C;gDACpD,MAAM,GAAG;;;;;;;sDAEb,6LAAC;4CAAE,WAAU;;gDACV,MAAM,KAAK,CAAC,cAAc;gDAAG;gDAAE,MAAM,KAAK,KAAK,IAAI,SAAS;;;;;;;;;;;;;gCAGhE,QAAQ,mBACP,6LAAC;oCAAI,WAAU;8CACZ,UAAU,IAAI,OAAO,UAAU,IAAI,OAAO;;;;;;;;;;;;uBApB5C,MAAM,GAAG;;;;;;;;;;0BA4BpB,6LAAC,0KAAI;gBACH,MAAK;gBACL,WAAU;0BACX;;;;;;;;;;;;AAKP;GApFgB;KAAA","debugId":null}},
    {"offset": {"line": 745, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Blahblah/blabla/src/components/WhoToFollow.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { UserIcon, VerifiedBadgeIcon } from \"./icons\";\nimport { LoadingSpinner } from \"./LoadingStates\";\n\ntype SuggestedUser = {\n  id: string;\n  name: string | null;\n  username: string | null;\n  verified: boolean;\n  bio: string | null;\n  _count: {\n    followers: number;\n  };\n};\n\nexport function WhoToFollow() {\n  const [users, setUsers] = useState<SuggestedUser[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function loadSuggestions() {\n      try {\n        const res = await fetch(\"/api/users/suggestions\");\n        if (res.ok) {\n          const data = await res.json();\n          setUsers(data.slice(0, 3));\n        }\n      } catch (error) {\n        console.error(\"Failed to load suggestions\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    loadSuggestions();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"bg-white rounded-2xl border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Who to follow</h2>\n        <div className=\"flex justify-center py-8\">\n          <LoadingSpinner size=\"md\" />\n        </div>\n      </div>\n    );\n  }\n\n  if (users.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"bg-white rounded-2xl border border-gray-200 overflow-hidden\">\n      <div className=\"p-4 border-b border-gray-200\">\n        <h2 className=\"text-xl font-bold text-gray-900\">Who to follow</h2>\n      </div>\n      \n      <div className=\"divide-y divide-gray-200\">\n        {users.map((user) => (\n          <Link\n            key={user.id}\n            href={`/u/${user.username}`}\n            className=\"block p-4 hover:bg-gray-50 transition-colors\"\n          >\n            <div className=\"flex items-start gap-3\">\n              {/* Avatar */}\n              <div className=\"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center flex-shrink-0\">\n                <span className=\"text-white font-semibold text-lg\">\n                  {user.name?.charAt(0).toUpperCase() || user.username?.charAt(0).toUpperCase() || 'U'}\n                </span>\n              </div>\n\n              {/* User Info */}\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-center gap-1 mb-0.5\">\n                  <span className=\"font-semibold text-gray-900 truncate\">\n                    {user.name || 'Anonymous'}\n                  </span>\n                  {user.verified && (\n                    <VerifiedBadgeIcon className=\"text-blue-500 flex-shrink-0\" size={16} />\n                  )}\n                </div>\n                <p className=\"text-sm text-gray-600 truncate\">@{user.username}</p>\n                {user.bio && (\n                  <p className=\"text-sm text-gray-700 mt-1 line-clamp-2\">{user.bio}</p>\n                )}\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  {user._count.followers.toLocaleString()} followers\n                </p>\n              </div>\n            </div>\n          </Link>\n        ))}\n      </div>\n\n      <Link\n        href=\"/explore/people\"\n        className=\"block p-4 text-green-600 hover:bg-green-50 font-medium text-sm transition-colors\"\n      >\n        Show more\n      </Link>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAiBO,SAAS;;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAkB,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;iCAAC;YACR,eAAe;gBACb,IAAI;oBACF,MAAM,MAAM,MAAM,MAAM;oBACxB,IAAI,IAAI,EAAE,EAAE;wBACV,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,SAAS,KAAK,KAAK,CAAC,GAAG;oBACzB;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC;gBAChB,SAAU;oBACR,WAAW;gBACb;YACF;YACA;QACF;gCAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAuC;;;;;;8BACrD,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,wJAAc;wBAAC,MAAK;;;;;;;;;;;;;;;;;IAI7B;IAEA,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;8BAAkC;;;;;;;;;;;0BAGlD,6LAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC;wBAUD,YAAsC;yCAT/C,6LAAC,0KAAI;wBAEH,MAAM,AAAC,MAAmB,OAAd,KAAK,QAAQ;wBACzB,WAAU;kCAEV,cAAA,6LAAC;4BAAI,WAAU;;8CAEb,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAK,WAAU;kDACb,EAAA,aAAA,KAAK,IAAI,cAAT,iCAAA,WAAW,MAAM,CAAC,GAAG,WAAW,SAAM,iBAAA,KAAK,QAAQ,cAAb,qCAAA,eAAe,MAAM,CAAC,GAAG,WAAW,OAAM;;;;;;;;;;;8CAKrF,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAU;8DACb,KAAK,IAAI,IAAI;;;;;;gDAEf,KAAK,QAAQ,kBACZ,6LAAC,4JAAiB;oDAAC,WAAU;oDAA8B,MAAM;;;;;;;;;;;;sDAGrE,6LAAC;4CAAE,WAAU;;gDAAiC;gDAAE,KAAK,QAAQ;;;;;;;wCAC5D,KAAK,GAAG,kBACP,6LAAC;4CAAE,WAAU;sDAA2C,KAAK,GAAG;;;;;;sDAElE,6LAAC;4CAAE,WAAU;;gDACV,KAAK,MAAM,CAAC,SAAS,CAAC,cAAc;gDAAG;;;;;;;;;;;;;;;;;;;uBA3BzC,KAAK,EAAE;;;;;;;;;;;0BAmClB,6LAAC,0KAAI;gBACH,MAAK;gBACL,WAAU;0BACX;;;;;;;;;;;;AAKP;GAxFgB;KAAA","debugId":null}},
    {"offset": {"line": 970, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/Blahblah/blabla/src/app/feed/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState, useRef } from \"react\";\nimport { PostCard } from \"@/components/PostCard\";\nimport { SkeletonPost, LoadingSpinner } from \"@/components/LoadingStates\";\nimport { TrendingSidebar } from \"@/components/TrendingSidebar\";\nimport { WhoToFollow } from \"@/components/WhoToFollow\";\nimport { EditIcon } from \"@/components/icons\";\nimport Link from \"next/link\";\n\ntype Author = { id: string; username: string | null; name: string | null; image: string | null };\ntype Post = { id: string; content: string; createdAt: string; author: Author; _count: { likes: number; comments: number } };\n\nexport default function FeedPage() {\n  const [items, setItems] = useState<Post[]>([]);\n  const [nextCursor, setNextCursor] = useState<string | undefined>();\n  const [loading, setLoading] = useState(false);\n  const [initialLoading, setInitialLoading] = useState(true);\n  const hasLoadedRef = useRef(false);\n\n  async function load(cursor?: string) {\n    if (loading) return; // Prevent concurrent loads\n    \n    setLoading(true);\n    try {\n      const res = await fetch(`/api/posts${cursor ? `?cursor=${cursor}` : \"\"}`);\n      const data = await res.json();\n      \n      // Prevent duplicates by filtering out posts that already exist\n      setItems(prev => {\n        const existingIds = new Set(prev.map(p => p.id));\n        const newPosts = data.items.filter((post: Post) => !existingIds.has(post.id));\n        return cursor ? [...prev, ...newPosts] : newPosts;\n      });\n      \n      setNextCursor(data.nextCursor);\n    } catch (error) {\n      console.error(\"Failed to load posts:\", error);\n    } finally {\n      setLoading(false);\n      setInitialLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    if (!hasLoadedRef.current) {\n      hasLoadedRef.current = true;\n      load();\n    }\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-8\">\n          {/* Main Feed */}\n          <div className=\"lg:col-span-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-1\">Home</h1>\n          <p className=\"text-gray-600\">See what's happening</p>\n        </div>\n\n        {/* Compose CTA */}\n        <Link href=\"/compose\" className=\"block mb-6 group\">\n          <div className=\"p-6 bg-white border-2 border-gray-200 hover:border-green-500 rounded-2xl transition-all duration-200 group-hover:shadow-lg\">\n            <div className=\"flex items-start gap-4\">\n              <div className=\"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center flex-shrink-0\">\n                <EditIcon size={20} className=\"text-white\" />\n              </div>\n              <div className=\"flex-1\">\n                <p className=\"text-lg font-semibold text-gray-900 mb-1\">What's on your mind?</p>\n                <p className=\"text-gray-600 text-sm\">Share your thoughts with the community</p>\n              </div>\n              <svg className=\"w-5 h-5 text-gray-400 group-hover:text-green-600 transition-colors\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n              </svg>\n            </div>\n          </div>\n        </Link>\n\n        {/* Initial Loading */}\n        {initialLoading && (\n          <div className=\"space-y-4\">\n            <SkeletonPost />\n            <SkeletonPost />\n            <SkeletonPost />\n          </div>\n        )}\n\n        {/* Empty State */}\n        {!initialLoading && items.length === 0 && (\n          <div className=\"bg-white rounded-2xl border border-gray-200 p-12 text-center animate-fadeIn\">\n            <div className=\"w-20 h-20 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center\">\n              <EditIcon size={32} className=\"text-gray-400\" />\n            </div>\n            <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No posts yet</h3>\n            <p className=\"text-gray-600 mb-6 max-w-sm mx-auto\">\n              Be the first to share something! Your post will appear here.\n            </p>\n            <Link\n              href=\"/compose\"\n              className=\"inline-flex items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-full transition-all shadow-md hover:shadow-lg\"\n            >\n              <EditIcon size={18} />\n              Create your first post\n            </Link>\n          </div>\n        )}\n\n        {/* Posts Feed */}\n        {!initialLoading && items.length > 0 && (\n          <div className=\"space-y-4 animate-fadeIn\">\n            {items.map((post, index) => (\n              <div \n                key={`${post.id}-${index}`}\n                className=\"animate-slideInRight\"\n                style={{ animationDelay: `${Math.min(index * 50, 300)}ms` }}\n              >\n                <PostCard \n                  id={post.id} \n                  author={{ username: post.author?.username, name: post.author?.name }} \n                  content={post.content} \n                  counts={{ likes: post._count?.likes || 0, comments: post._count?.comments || 0 }} \n                />\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Load More Button */}\n        {!initialLoading && nextCursor && (\n          <div className=\"mt-6 text-center\">\n            <button\n              onClick={() => load(nextCursor)}\n              disabled={loading}\n              className=\"inline-flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-300 hover:border-green-500 text-gray-700 hover:text-green-600 font-semibold rounded-full transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\n            >\n              {loading ? (\n                <>\n                  <LoadingSpinner size=\"sm\" />\n                  Loading...\n                </>\n              ) : (\n                <>\n                  <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                  </svg>\n                  Load more posts\n                </>\n              )}\n            </button>\n          </div>\n        )}\n\n        {/* End of Feed */}\n        {!initialLoading && !nextCursor && items.length > 0 && (\n          <div className=\"mt-8 text-center\">\n            <div className=\"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-600 rounded-full text-sm font-medium\">\n              <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n              </svg>\n              You're all caught up!\n            </div>\n          </div>\n        )}\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"hidden lg:block lg:col-span-4\">\n            <div className=\"sticky top-20 space-y-6\">\n              <TrendingSidebar />\n              <WhoToFollow />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}